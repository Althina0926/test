<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Defense Against the Dark Arts</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <style>
        body { background: #1a120b; color: #d4af37; font-family: 'Cinzel Decorative', cursive; text-align: center; margin: 0; overflow: hidden; }
        .grid { display: grid; grid-template-columns: repeat(3, 130px); gap: 20px; justify-content: center; margin-top: 40px; }
        .hole { 
            width: 130px; height: 130px; background: #000; border-radius: 50%; 
            position: relative; overflow: hidden; border: 4px solid #d4af37;
            box-shadow: inset 0 10px 20px #000;
        }
        /* å‘¢åº¦ä¿‚å„ªåŒ–å’—å˜…ã€Œåœ°é¼ ã€ï¼šè®Šæˆäº†é£Ÿæ­»äººé¢å…· */
        .mole { 
            width: 90px; height: 110px; background: #e0e0e0; 
            border-radius: 40% 40% 50% 50%; position: absolute; left: 20px; top: 130px; 
            transition: top 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            cursor: crosshair; border: 2px solid #555;
            background-image: radial-gradient(circle at 30% 30%, #222 10px, transparent 10px), 
                              radial-gradient(circle at 70% 30%, #222 10px, transparent 10px); /* çœ¼çª© */
        }
        .mole::after { content: "ğŸ’€"; position: absolute; top: 40px; left: 30px; font-size: 25px; opacity: 0.3; }
        .mole.up { top: 15px; }
        .hit-effect { position: absolute; color: #00f3ff; font-weight: bold; animation: floatUp 0.5s forwards; pointer-events: none; }
        @keyframes floatUp { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-50px); } }
    </style>
</head>
<body>
    <h1 style="margin-top:30px;">Dark Arts Defense</h1>
    <h2>SCORE: <span id="score">0</span></h2>
    <div class="grid" id="gameGrid"></div>
    <p><a href="index.html" style="color:#d4af37; text-decoration:none; border:1px solid #d4af37; padding:10px; display:inline-block; margin-top:20px;">Return to Hogwarts</a></p>

    <script>
        const grid = document.getElementById('gameGrid');
        let score = 0;
        for(let i=0; i<6; i++) grid.innerHTML += `<div class="hole"><div class="mole"></div></div>`;
        const moles = document.querySelectorAll('.mole');

        function hit(e) {
            score += 10;
            document.getElementById('score').innerText = score;
            this.classList.remove('up');
            // å¢åŠ å’’èªæ–‡å­—ç‰¹æ•ˆ
            const effect = document.createElement('div');
            effect.className = 'hit-effect';
            effect.innerText = 'STUPEFY!';
            effect.style.left = event.pageX + 'px';
            effect.style.top = event.pageY + 'px';
            document.body.appendChild(effect);
            setTimeout(() => effect.remove(), 500);
        }

        moles.forEach(m => m.addEventListener('mousedown', hit));

        function peep() {
            const time = Math.random() * 800 + 400;
            const mole = moles[Math.floor(Math.random() * moles.length)];
            mole.classList.add('up');
            setTimeout(() => {
                mole.classList.remove('up');
                if (true) peep();
            }, time);
        }
        peep();
    </script>
</body>
</html>